(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){e.exports=a.p+"static/media/Delcaration.b76fa05d.png"},102:function(e,t,a){e.exports=a.p+"static/media/Prulia_Cert_Trans.3091a477.png"},103:function(e,t,a){e.exports=a.p+"static/media/Aprove.255ed245.png"},104:function(e,t,a){e.exports=a.p+"static/media/subline.5a66a38e.png"},105:function(e,t,a){e.exports=a.p+"static/media/individual.9ceed13c.png"},106:function(e,t,a){e.exports=a.p+"static/media/Foroff.2f389ab5.png"},107:function(e,t,a){e.exports=a.p+"static/media/transfer.2acf2370.png"},108:function(e,t,a){e.exports=a.p+"static/media/credicard.0c692c9f.png"},125:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(21),r=a.n(c),i=(a(58),a(15)),o=a(9),s=a(4),d=a(3),m=a(6),u=a(5),p=a(2),h=a.n(p),b=a(45),_=a.n(b),g=(a(90),a(91),a(46)),f=(a(94),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;Object(s.a)(this,a),(l=t.call(this,e)).state={photosilder:[]};var n=localStorage.getItem("telco");return h.a.get("/api/resource/PRULIA%20Telco/".concat(n),{headers:{},withCredentials:!0}).then((function(e){console.log(e.data.data.telco_photo_slider),l.setState({photosilder:e.data.data.telco_photo_slider})})),l}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.photosilder,t={dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,appendDots:function(e){return n.a.createElement(g.a,{dots:e,numDotsToShow:5,dotWidth:30})}};return n.a.createElement(_.a,t,e.map((function(e){return n.a.createElement("div",{class:"carousel-item"},n.a.createElement("img",{src:"http://167.99.77.197/".concat(e.t_photo),alt:"..."}))})))}}]),a}(l.Component)),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"card",id:"cardplan"},n.a.createElement("div",{class:"card-header",id:"cardhed",style:{backgroundColor:"".concat(localStorage.getItem("theme_color"))}},n.a.createElement("h2",{class:"text-white"},this.props.data.package_title),n.a.createElement("h5",{class:"bg-white",id:"rm"},this.props.data.package_sub_title1),n.a.createElement("h6",null," ",0===this.props.data.strike?this.props.data.package_sub_title2:n.a.createElement("del",null,this.props.data.package_sub_title2))),n.a.createElement("div",{className:"plan-body-container",dangerouslySetInnerHTML:{__html:this.props.data.package_content}}),n.a.createElement("br",null),n.a.createElement("div",null),1==this.props.data.plan_pkg_subline?n.a.createElement("div",null,n.a.createElement("p",{style:{color:"red"}},"* Subline is allowed ",n.a.createElement("br",null)," price: RM  ",this.props.data.sub_price," ",n.a.createElement("br",null)," "),n.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.data.sub_desc}})):n.a.createElement("p",{style:{color:"red"}},"* Subline NOT allowed for this package"),n.a.createElement("div",{class:"card-footer bg-white"},n.a.createElement(i.b,{to:"/telco/order"}," ",n.a.createElement("button",{type:"button",class:"btn ",id:"planbutton",onClick:function(){localStorage.setItem("plan_pkg",e.props.data.package_title),localStorage.setItem("plan_pkg_id",e.props.data.name),localStorage.setItem("plan_pkg_subline",e.props.data.plan_pkg_subline)},style:{backgroundColor:"".concat(localStorage.getItem("theme_color"))}},"Select"))))}}]),a}(l.Component),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"DeviceContainer"},n.a.createElement("img",{src:"http://167.99.77.197/".concat(this.props.data.device_photo),className:"DeviceImg"}),n.a.createElement("div",{class:"Device-card-body custom-des-device"},n.a.createElement("p",{class:"card-titlefont-weight-bold",dangerouslySetInnerHTML:{__html:this.props.data.device_content}})))}}]),a}(l.Component),O=a(18),y=a.n(O),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;Object(s.a)(this,a),l=t.call(this,e);var n=window.location.href.split("#/")[1];return console.log(n),l.state={plan:[],devices:[],telco:"",reg_status:"",next_renew_date:""},l.setState({telco:n}),localStorage.setItem("telco",n),h.a.get('/api/resource/PRULIA%20Telco%20Connect/?filters=[["owner","=","'.concat(y.a.get("user_id"),'"],["telco_id","=","').concat(n,'"]]&fields=["*"]'),{withCredentials:!0}).then((function(e){l.setState({reg_status:e.data.data[0].reg_status,next_renew_date:e.data.data[0].next_renew_date})})),console.log(l.state),h.a.get("/api/resource/PRULIA%20Telco/".concat(localStorage.getItem("telco"),'?fields=["theme_colour"]'),{withCredentials:!0}).then((function(e){console.log(e.data.data.theme_colour),localStorage.setItem("theme_color",e.data.data.theme_colour)})),h.a.get('/api/resource/PRULIA%20Telco%20Package%20Plan/?filters=[["telco_id","=","'.concat(n,'"]]&fields=["*"]'),{headers:{},withCredentials:!0}).then((function(e){console.log(e.data.data),l.setState({plan:e.data.data})})),h.a.get('/api/resource/PRULIA%20Telco%20Devices/?filters=[["telco_id","=","'.concat(n,'"]]&fields=["*"]'),{headers:{},withCredentials:!0}).then((function(e){console.log(e.data.data),l.setState({devices:e.data.data})})),l}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.plan,a=e.devices,l=e.reg_status,c=e.next_renew_date;return"Pending for approval"===l?n.a.createElement("div",{class:"bgimg"},n.a.createElement("div",{class:"middle"},n.a.createElement("h1",null,"Pending for Approval"),n.a.createElement("hr",null),n.a.createElement("p",null,"Try Again after some time"))):"Approved"===l?n.a.createElement("div",{class:"bgimg"},n.a.createElement("div",{class:"middle"},n.a.createElement("h1",null,"Approved"),n.a.createElement("hr",null),n.a.createElement("p",null,c))):n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement("div",{className:"home-body"},n.a.createElement("div",{id:"plan"},n.a.createElement("center",null,n.a.createElement("h2",{class:"text-white",id:"plant"},"Plans"))),n.a.createElement("center",null,n.a.createElement("h4",{class:"text-dark",id:"cplant"},"Choose Plans"),n.a.createElement("div",{class:"card-deck"},t.map((function(e){return n.a.createElement(E,{data:e,devices:a})})))),n.a.createElement("div",{id:"plan"},n.a.createElement("center",null,n.a.createElement("h3",{class:"text-white",id:"dplant"},"Devices"))),n.a.createElement("div",{class:"Devicecard-deck row",id:"devicedeck"},a.map((function(e){return n.a.createElement(v,{data:e})})))))}}]),a}(l.Component);function j(){return n.a.createElement("div",{style:{paddingLeft:"20px",background:"linear-gradient(90deg, #ff6961 0%, #ff6961 50%, #f3b047 100%)"}},n.a.createElement("a",{href:"/#/smartPartner"},n.a.createElement("i",{class:"arrow"}),n.a.createElement("p",{class:"oo",style:{display:"inline-block",marginLeft:"22px",fontSize:"15px"}},"Smart Partners")))}var C=a(8),k=a(1),S=a(7),N=a(22),x=(a(41),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;Object(s.a)(this,a),(l=t.call(this,e)).submit=function(e){return l.props.get(e)};var n=l.props.data;return console.log(n),console.log(l.props),l.state={telco:[],data:!1,final_data:Object(k.a)({},l.props.data),last_4_1:l.props.data.last_4_1,last_4_2:l.props.data.last_4_2,last_4_3:l.props.data.last_4_3,last_4_4:l.props.data.last_4_4,change_mobile:l.props.data.change_mobile,port_in_mobile_no:l.props.data.port_in,sub_line_nric:l.props.data.sub_line_nric},l.handleChange=l.handleChange.bind(Object(S.a)(l)),l.handleChange2=l.handleChange2.bind(Object(S.a)(l)),l.handleChange3=l.handleChange3.bind(Object(S.a)(l)),l.input=l.input.bind(Object(S.a)(l)),l.plan=l.plan.bind(Object(S.a)(l)),l.device=l.device.bind(Object(S.a)(l)),l.submit=l.submit.bind(Object(S.a)(l)),h.a.get("/api/resource/PRULIA%20Telco?fields=[%22*%22]",{withCredentials:!0}).then((function(e){l.setState({telco:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)})),l}return Object(d.a)(a,[{key:"componentDidMount",value:function(){for(var e=0;e<this.props.plan.length;e++)if(this.props.plan[e].name==this.props.data.telco_package_plan){console.log(this.props.plan[e].package_price);var t=Number(this.props.plan[e].package_price);break}for(e=0;e<this.props.device.length;e++)if(this.props.device[e].name==this.props.data.device){console.log(this.props.device[e].price);var a=Number(this.props.device[e].price);break}console.log(a+t),this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{device_cost:a,package_price:t,price:a+t})})}}]),Object(d.a)(a,[{key:"Number",value:function(e){var t;isNaN(e.target.value)||this.setState((t={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,e.target.value))},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"data",!0),t)),console.log(e.target.value),console.log(this.state)}},{key:"NumberNRIC",value:function(e){if(/^([\d -]+)$/.test(e.target.value)){var t,a=e.target.value;console.log(a.length),"-"==a.charAt(a.length-1)&&(a=a.slice(0,a.length-1)),console.log(a),console.log(".."),a=a.split("-").join(""),console.log(a);var l,n=a.slice(0,6),c=a.slice(6,8),r=a.slice(8,12);l=a.length<=6||6===a.length?n:a.length>6&&a.length<8||8===a.length?n+"-"+c:n+"-"+c+"-"+r,this.setState((t={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,l))},Object(C.a)(t,e.target.name,l),Object(C.a)(t,"data",!0),t))}else{var i;e.target.value||this.setState((i={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,""))},Object(C.a)(i,e.target.name,""),Object(C.a)(i,"data",!0),i))}}},{key:"handleChange",value:function(){0==this.state.final_data.new_line?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{new_line:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{new_line:0})})}},{key:"handleChange2",value:function(){0==this.state.final_data.port_in?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{port_in:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{port_in:0})})}},{key:"handleChange3",value:function(){0==this.state.final_data.change_plan?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{change_plan:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{change_plan:0})})}},{key:"plan",value:function(e){var t=this;""===e?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{telco_package_plan:"",package_price:0})}):h.a.get("/api/resource/PRULIA%20Telco%20Package%20Plan/".concat(e),{withCredentials:!0}).then((function(e){t.setState({final_data:Object(k.a)(Object(k.a)({},t.state.final_data),{},{telco_package_plan:e.data.data.name,package_price:e.data.data.planprice})}),console.log(e),t.pricing()}))}},{key:"device",value:function(e){var t=this;""===e?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{device:"",device_cost:0})}):h.a.get("/api/resource/PRULIA%20Telco%20Devices/".concat(e),{withCredentials:!0}).then((function(e){t.setState({final_data:Object(k.a)(Object(k.a)({},t.state.final_data),{},{device:e.data.data.name,device_cost:e.data.data.price})}),console.log(e),t.pricing()}))}},{key:"input",value:function(e){this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,e.target.value)),data:!0})}},{key:"pricing",value:function(){var e=Number(this.state.final_data.device_cost)+Number(this.state.final_data.package_price);console.log(e),this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{price:e})})}},{key:"render",value:function(){var e=this,t=1==this.state.final_data.new_line?"":"hidden-check1",a=1==this.state.final_data.port_in?"":"hidden-check2",l=1==this.state.final_data.change_plan?"":"hidden-check3";return n.a.createElement("div",{className:"form-style-6"},n.a.createElement("form",null,n.a.createElement("label",{htmlFor:""},"Device"),n.a.createElement("select",{type:"text",Value:this.state.final_data.device,onChange:function(t){e.device(t.target.value),e.setState({data:!0})}},n.a.createElement("option",{value:""},"No Device"),this.props.device.map((function(t){return t.name==e.state.final_data.device?n.a.createElement("option",{selected:!0,value:t.name},t.device_name):n.a.createElement("option",{value:t.name},t.device_name)}))),n.a.createElement("label",{htmlFor:""},"Sub Line Name"),n.a.createElement("input",{type:"text",defaultValue:this.state.final_data.sub_line_name,name:"sub_line_name",onChange:this.input}),n.a.createElement("label",{htmlFor:""},"Sub Line NRIC"),n.a.createElement("input",{type:"text",name:"sub_line_nric",maxlength:"14",onInput:this.NumberNRIC.bind(this),value:this.state.sub_line_nric}),n.a.createElement("div",null,n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk1",className:"chk11",checked:this.state.final_data.new_line,onChange:this.handleChange}),n.a.createElement("label",null,"New Line"),n.a.createElement("div",{className:t},n.a.createElement("label",{htmlFor:""},"Telco Number Prefix "),n.a.createElement("input",{type:"text",defaultValue:this.state.final_data.telco_prefix,name:"telco_prefix",onChange:this.input}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 1"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_1",onInput:this.Number.bind(this),value:this.state.last_4_1}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 2"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_2",onInput:this.Number.bind(this),value:this.state.last_4_2}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 3"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_3",onInput:this.Number.bind(this),value:this.state.last_4_3}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 4"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_4",onInput:this.Number.bind(this),value:this.state.last_4_4}))),n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk2",className:"chk11",checked:this.state.final_data.port_in,onChange:this.handleChange2}),n.a.createElement("label",null,"Port in"),n.a.createElement("div",{className:a},n.a.createElement("label",{htmlFor:""},"Port In For"),n.a.createElement("input",{list:"pf",type:"text",defaultValue:this.state.final_data.port_in_for,name:"port_in_for",onChange:this.input}),n.a.createElement("datalist",{id:"pf"},n.a.createElement("option",{value:"My Own Number"},"My Own Number"),n.a.createElement("option",{value:"Not My Number"},"Not My Number")),n.a.createElement("label",{htmlFor:""},"Current Telco"),n.a.createElement("input",{list:"Current-Telco",type:"text",defaultValue:this.state.final_data.current_telco,name:"current_telco",onChange:this.input}),n.a.createElement("datalist",{id:"Current-Telco"},0==this.state.telco.length?n.a.createElement(n.a.Fragment,null):this.state.telco.map((function(e){return n.a.createElement("option",{value:e.telco_name},e.telco_name)}))),n.a.createElement("label",{htmlFor:""},"Mobile Number"),n.a.createElement("input",{type:"text",name:"port_in_mobile_no",maxlength:"10",onInput:this.Number.bind(this),value:this.state.port_in_mobile_no}))),n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk3",className:"chk11",checked:this.state.final_data.change_plan,onChange:this.handleChange3}),n.a.createElement("label",null,"Change Plan"),n.a.createElement("div",{className:l},"     ",n.a.createElement("label",{htmlFor:""},"Change of Plan For"),n.a.createElement("input",{list:"cpf",type:"text",defaultValue:this.state.final_data.change_plan_for,name:"change_plan_for",onChange:this.input}),n.a.createElement("datalist",{id:"cpf"},n.a.createElement("option",{value:"My Own Number"},"My Own Number"),n.a.createElement("option",{value:"Not My Number"},"Not My Number")),n.a.createElement("label",{htmlFor:""},"Current Type of Plan"),n.a.createElement("input",{list:"ctop",type:"text",defaultValue:this.state.final_data.current_type_plan,name:"current_type_plan",onChange:this.input}),n.a.createElement("datalist",{id:"ctop"},n.a.createElement("option",{value:"PostPaid"},"PostPaid"),n.a.createElement("option",{value:"Prepaid"},"Prepaid")),n.a.createElement("label",{htmlFor:""},"Mobile Number"),n.a.createElement("input",{type:"text",maxlength:"10",name:"change_mobile",onInput:this.Number.bind(this),value:this.change_mobile})))),n.a.createElement(i.b,{to:"/telco/order"},"   ",n.a.createElement("input",{type:"button",defaultValue:"Save",onClick:function(){e.submit(Object(k.a)({},e.state))},style:{backgroundColor:"".concat(localStorage.getItem("theme_color"))}}))))}}]),a}(l.Component)),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).submit=function(e){return l.props.get(e)},l.state={final_data:{new_line:0,port_in:0,change_plan:0,package_price:0,price:0,device_cost:0},telco:[],data:!1,last_4_1:"",last_4_2:"",last_4_3:"",last_4_4:"",change_mobile:"",port_in_mobile_no:"",sub_line_nric:""},l.handleChange=l.handleChange.bind(Object(S.a)(l)),l.handleChange2=l.handleChange2.bind(Object(S.a)(l)),l.handleChange3=l.handleChange3.bind(Object(S.a)(l)),l.input=l.input.bind(Object(S.a)(l)),l.plan=l.plan.bind(Object(S.a)(l)),l.device=l.device.bind(Object(S.a)(l)),h.a.get("/api/resource/PRULIA%20Telco?fields=[%22*%22]",{withCredentials:!0}).then((function(e){l.setState({telco:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)})),l}return Object(d.a)(a,[{key:"Number",value:function(e){var t;isNaN(e.target.value)||this.setState((t={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,e.target.value))},Object(C.a)(t,e.target.name,e.target.value),Object(C.a)(t,"data",!0),t)),console.log(e.target.value),console.log(this.state)}},{key:"NumberNRIC",value:function(e){if(/^([\d -]+)$/.test(e.target.value)){var t,a=e.target.value;console.log(a.length),"-"==a.charAt(a.length-1)&&(a=a.slice(0,a.length-1)),console.log(a),console.log(".."),a=a.split("-").join(""),console.log(a);var l,n=a.slice(0,6),c=a.slice(6,8),r=a.slice(8,12);l=a.length<=6||6===a.length?n:a.length>6&&a.length<8||8===a.length?n+"-"+c:n+"-"+c+"-"+r,this.setState((t={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,l))},Object(C.a)(t,e.target.name,l),Object(C.a)(t,"data",!0),t))}else{var i;e.target.value||this.setState((i={final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,""))},Object(C.a)(i,e.target.name,""),Object(C.a)(i,"data",!0),i))}}},{key:"handleChange",value:function(){0==this.state.final_data.new_line?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{new_line:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{new_line:0})})}},{key:"handleChange2",value:function(){0==this.state.final_data.port_in?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{port_in:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{port_in:0})})}},{key:"handleChange3",value:function(){0==this.state.final_data.change_plan?this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{change_plan:1})}):this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{change_plan:0})})}},{key:"plan",value:function(e){var t=this;h.a.get("/api/resource/PRULIA%20Telco%20Package%20Plan/".concat(e),{withCredentials:!0}).then((function(e){t.setState({final_data:Object(k.a)(Object(k.a)({},t.state.final_data),{},{telco_package_plan:e.data.data.name,package_price:e.data.data.planprice})}),console.log(e),t.pricing()}))}},{key:"device",value:function(e){var t=this;h.a.get("/api/resource/PRULIA%20Telco%20Devices/".concat(e),{withCredentials:!0}).then((function(e){t.setState({final_data:Object(k.a)(Object(k.a)({},t.state.final_data),{},{device:e.data.data.name,device_cost:e.data.data.price})}),console.log(e),t.pricing()}))}},{key:"input",value:function(e){this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,e.target.value)),data:!0})}},{key:"pricing",value:function(){var e=Number(this.state.final_data.device_cost)+Number(this.state.final_data.package_price);console.log(e),this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{price:e})})}},{key:"render",value:function(){var e=this,t=1==this.state.final_data.new_line?"":"hidden-check1",a=1==this.state.final_data.port_in?"":"hidden-check2",l=1==this.state.final_data.change_plan?"":"hidden-check3";return n.a.createElement("div",{className:"form-style-6"},n.a.createElement("form",null,n.a.createElement("label",{htmlFor:""},"Device"),n.a.createElement("select",{onChange:function(t){e.device(t.target.value)}},n.a.createElement("option",{selected:!0},"No Device"),this.props.device.map((function(e){return n.a.createElement("option",{value:e.name},e.device_name)}))),n.a.createElement("label",{htmlFor:""},"Sub Line Name"),n.a.createElement("input",{type:"text",name:"sub_line_name",onChange:this.input}),n.a.createElement("label",{htmlFor:""},"Sub Line NRIC"),n.a.createElement("input",{type:"text",name:"sub_line_nric",maxlength:"14",onInput:this.NumberNRIC.bind(this),value:this.state.sub_line_nric}),n.a.createElement("div",null,n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk1",className:"chk11",checked:this.state.final_data.new_line,onChange:this.handleChange}),n.a.createElement("label",null,"New Line"),n.a.createElement("div",{className:t},n.a.createElement("label",{htmlFor:""},"Telco Number Prefix"),n.a.createElement("input",{type:"text",defaultValue:this.state.final_data.telco_prefix,name:"telco_prefix",onChange:this.input}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 1"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_1",onInput:this.Number.bind(this),value:this.state.last_4_1}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 2"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_2",onInput:this.Number.bind(this),value:this.state.last_4_2}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 3"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_3",onInput:this.Number.bind(this),value:this.state.last_4_3}),n.a.createElement("label",{htmlFor:""},"Last 4 Numbers Opt 4"),n.a.createElement("input",{type:"text",maxlength:"4",name:"last_4_4",onInput:this.Number.bind(this),value:this.state.last_4_4}))),n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk2",className:"chk11",checked:this.state.final_data.port_in,onChange:this.handleChange2}),n.a.createElement("label",null,"Port in"),n.a.createElement("div",{className:a},n.a.createElement("label",{htmlFor:""},"Port In For"),n.a.createElement("input",{list:"Port-In-For",type:"text",name:"port_in_for",onChange:this.input}),n.a.createElement("datalist",{id:"Port-In-For"},n.a.createElement("option",{value:"My Own Number"},"My Own Number"),n.a.createElement("option",{value:"Not My Number"},"Not My Number")),n.a.createElement("label",{htmlFor:""},"Current Telco"),n.a.createElement("input",{list:"Current Telco",type:"text",name:"current_telco",onChange:this.input}),n.a.createElement("datalist",{id:"Current Telco"},0==this.state.telco.length?n.a.createElement(n.a.Fragment,null):this.state.telco.map((function(e){return n.a.createElement("option",{value:e.telco_name},e.telco_name)}))),n.a.createElement("label",{htmlFor:""},"Mobile Number"),n.a.createElement("input",{type:"text",name:"port_in_mobile_no",maxlength:"10",onInput:this.Number.bind(this),value:this.state.port_in_mobile_no}))),n.a.createElement("div",{className:"form-box"},n.a.createElement("input",{type:"checkbox",id:"chk3",className:"chk11",checked:this.state.final_data.change_plan,onChange:this.handleChange3}),n.a.createElement("label",null,"Change Plan"),n.a.createElement("div",{className:l},"     ",n.a.createElement("label",{htmlFor:""},"Change of Plan For"),n.a.createElement("input",{list:"Change-of",type:"text",name:"change_plan_for",onChange:this.input}),n.a.createElement("datalist",{id:"Change-of"},n.a.createElement("option",{value:"My Own Number"},"My Own Number"),n.a.createElement("option",{value:"Not My Number"},"Not My Number")),n.a.createElement("label",{htmlFor:""},"Current Type of Plan"),n.a.createElement("input",{list:"tp",type:"text",name:"current_type_plan",onChange:this.input}),n.a.createElement("datalist",{id:"tp"},n.a.createElement("option",{value:"PostPaid"},"PostPaid"),n.a.createElement("option",{value:"Prepaid"},"Prepaid")),n.a.createElement("label",{htmlFor:""},"Mobile Number"),n.a.createElement("input",{type:"text",maxlength:"10",name:"change_mobile",onInput:this.Number.bind(this),value:this.change_mobile})))),n.a.createElement(i.b,{to:"/telco/order"},"    ",n.a.createElement("input",{type:"button",style:{backgroundColor:"".concat(localStorage.getItem("theme_color"))},defaultValue:"Add Subline",onClick:function(){e.submit(Object(k.a)({},e.state))}}))))}}]),a}(l.Component),P=a(48),D=a.n(P),F=a(24),T=a.n(F),A=a(49),R=a.n(A),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).sigPad={},l.clear=function(){l.sigPad.clear()},l.trim=function(){l.setState({trimmedDataURL:l.sigPad.getTrimmedCanvas().toDataURL("image/png")}),console.log(l.sigPad.getTrimmedCanvas().toDataURL("image/png")),l.props.get(l.sigPad.getTrimmedCanvas().toDataURL("image/png"))},l.state={trimmedDataURL:null},l.clear=l.clear.bind(Object(S.a)(l)),l.trim=l.trim.bind(Object(S.a)(l)),l}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state.trimmedDataURL;return n.a.createElement("div",null,n.a.createElement(N.a,{trigger:n.a.createElement("button",{type:"button",class:"btn btn-secondary",id:"orderbutton"},"Change Signature"),modal:!0,nested:!0},(function(t){return n.a.createElement("div",null,n.a.createElement("button",{class:"btn",id:"popclose",onClick:function(){t()}},"X"),n.a.createElement("div",{className:"siganture-pad"},n.a.createElement(R.a,{penColor:"black",canvasProps:{width:250,height:250},ref:function(t){e.sigPad=t}})),n.a.createElement("div",null,n.a.createElement("button",{type:"button",onClick:e.clear},"Clear"),n.a.createElement("button",{type:"button",onClick:function(){e.trim(),t()}},"save")))})),n.a.createElement("div",{className:"signatur_pre"},"CAPTURED SIGNATURE",t?n.a.createElement("img",{src:t,alt:""}):this.props.data?n.a.createElement("img",{src:this.props.data,alt:""}):null))}}]),a}(l.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={data:{},telco_data:{},sub_line:[],devices:[],plans:[],p_id:"",final_data:{reg_status:"Pending for approval"},credit_card:{cardHolder:"",cardNo:"",cardType:"",expDate:"",cvv:"",cardCountry:"",cardBank:""},files_nric_front:[],files_photo:[],files_nric_back:[],files_application_form:"",files_t_signature:[],deviceSelected:{},numberInput:"",postInput:"",memberData:{},redirect:!1,cost:{devicecost:0,plancost:0,subline:0}},h.a.get('/api/resource/PRULIA%20Telco%20Connect/?filters=[["owner","=","'.concat(y.a.get("user_id"),'"],["telco_id","=","').concat(localStorage.getItem("telco"),'"]]&fields=["*"]'),{withCredentials:!0}).then((function(e){console.log(e),0===e.data.data.length?localStorage.setItem("tcon_id","null"):localStorage.setItem("tcon_id",e.data.data[0].name)})),h.a.get('/api/resource/PRULIA%20Telco%20Devices/?filters=[["telco_id","=","'.concat(localStorage.getItem("telco"),'"]]&fields=["*"]'),{withCredentials:!0}).then((function(t){console.log(t),e.setState({devices:t.data.data})})),h.a.get('/api/resource/PRULIA%20Telco%20Package%20Plan/?filters=[["telco_id","=","'.concat(localStorage.getItem("telco"),'"]]&fields=["*"]'),{withCredentials:!0}).then((function(t){console.log(t),e.setState({plans:t.data.data})})),h.a.get('/api/resource/PRULIA%20Member?filters=[["owner","=","'.concat(y.a.get("user_id"),'"]]&fields=["*"]'),{withCredentials:!0}).then((function(t){console.log(t),e.setState({memberData:t.data.data[0],data:Object(k.a)(Object(k.a)({},e.state.data),{},{prudential_id:t.data.data[0].prudential_id}),final_data:Object(k.a)(Object(k.a)({},e.state.final_data),{},{prudential_id:t.data.data[0].prudential_id,mailing_address:t.data.data[0].mailing_address})}),console.log(e.state.memberData)})).then((function(){if(h.a.get("/api/resource/PRULIA%20Telco/".concat(localStorage.getItem("telco"),'?fields=["telco_name","name","max_subline","creditcard_check","creditcard_desc"]'),{withCredentials:!0}).then((function(t){e.setState({telco_data:t.data.data,final_data:Object(k.a)(Object(k.a)({},e.state.final_data),{},{telco_name:t.data.data.telco_name})}),console.log(e.state.telco_data),console.log(t)})),"null"===localStorage.getItem("tcon_id")){console.log(e.state);var t={package_title:localStorage.getItem("plan_pkg"),cell_number:e.state.memberData.cell_number,full_name:e.state.memberData.full_name};e.setState({data:t,sub_line:[],numberInput:t.cell_number}),console.log(t),e.device("null");var a=localStorage.getItem("plan_pkg_id");e.plan(a)}else h.a.get("/api/resource/PRULIA%20Telco%20Connect/".concat(localStorage.getItem("tcon_id")),{withCredentials:!0}).then((function(t){if(0==t.data.data.length||"Rejected"===t.data.data.reg_status||"Cancel"===t.data.data.reg_status){console.log(t.data.data.reg_status);var a={package_title:localStorage.getItem("plan_pkg"),cell_number:e.state.memberData.cell_number,full_name:e.state.memberData.full_name};e.setState({data:a,sub_line:[],numberInput:a.cell_number}),e.device("null");var l=localStorage.getItem("plan_pkg_id");e.plan(l)}else if("Expired"===t.data.data.reg_status){console.log("expired"),delete(a=t.data.data).creation,delete a.doctype,delete a.idx,delete a.modified,delete a.modified_by,delete a.name,delete a.owner,delete a.reg_status,delete a.submit_date,delete a.telco_id,delete a.telco_name,delete a.telco_package_plan,a.package_title=localStorage.getItem("plan_pkg"),a.cell_number=e.state.memberData.cell_number,a.full_name=e.state.memberData.full_name,console.log(a),e.setState({data:a,sub_line:a.sub_line,numberInput:a.cell_number,postInput:a.post_code}),""===a.telco_devices?e.device("null"):e.device(a.telco_devices),console.log(localStorage.getItem("plan_pkg_id"));l=localStorage.getItem("plan_pkg_id");e.plan(l),console.log(e.state)}else console.log(t.data.data.reg_status),e.setState({data:{reg_status:t.data.data.reg_status,next_renew_date:t.data.data.next_renew_date}})}))})),e.input=e.input.bind(Object(S.a)(e)),e.plan=e.plan.bind(Object(S.a)(e)),e.device=e.device.bind(Object(S.a)(e)),e.input=e.input.bind(Object(S.a)(e)),e}return Object(d.a)(a,[{key:"contact",value:function(e){isNaN(e.target.value)||this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{cell_number:e.target.value}),numberInput:e.target.value}),console.log(e.target.value)}},{key:"DateNow",value:function(){var e=(new Date).toISOString();return e.slice(0,4)+"-"+e.slice(5,7)+"-"+e.slice(8,10)}},{key:"postcode",value:function(e){isNaN(e.target.value)||this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{post_code:e.target.value}),postInput:e.target.value}),console.log(e.target.value)}},{key:"getFilesPhotos",value:function(e){this.setState({files_photo:e})}},{key:"getFilesBACK",value:function(e){this.setState({files_nric_back:e})}},{key:"getFilesFRONT",value:function(e){this.setState({files_nric_front:e})}},{key:"getFilesAPPFORM",value:function(e){this.setState({files_application_form:e})}},{key:"NumberCard",value:function(e){if(/^([\d -]+)$/.test(e.target.value)){var t=e.target.value;console.log(t.length),"-"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),console.log("..");var a,l=(t=t.split("-").join("")).slice(0,4),n=t.slice(4,8),c=t.slice(8,12),r=t.slice(12,16);a=t.length<=4||4===t.length?l:t.length>4&&t.length<8||8===t.length?l+"-"+n:t.length>6&&t.length<12||12===t.length?l+"-"+n+"-"+c:l+"-"+n+"-"+c+"-"+r,console.log(a),this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{cardNo:a})})}else e.target.value||this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{cardNo:""})})}},{key:"NumberExpireDate",value:function(e){if(/^([\d -]+)$/.test(e.target.value)){var t=e.target.value;"-"==t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),t=t.split("-").join(""),console.log(t);var a,l=t.slice(0,2),n=t.slice(2,4);t.length<=2||2===t.length?a=l:(t.length>2&&t.length<4||4===t.length)&&(a=l+"-"+n),this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{expDate:a})})}else e.target.value||this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{expDate:""})})}},{key:"NumberCvv",value:function(e){if(/^([\d ]+)$/.test(e.target.value)){var t=e.target.value;console.log(t);var a=t;this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{cvv:a})})}else e.target.value||this.setState({credit_card:Object(k.a)(Object(k.a)({},this.state.credit_card),{},{cvv:""})})}},{key:"input",value:function(e){this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},Object(C.a)({},e.target.name,e.target.value))})}},{key:"onlyNumbers",value:function(e){return console.log("this is called"),!isNaN(e.key)}},{key:"plan",value:function(e){console.log(e);var t=this.state.plans;console.log(t);for(var a=0;a<t.length;a++)console.log(t[a].name),t[a].name==e&&(console.log("olalalal"),this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{package_price:t[a].package_price,package_title:t[a].package_title,telco_package_plan:t[a].name}),cost:Object(k.a)(Object(k.a)({},this.state.cost),{},{plancost:t[a].package_price})}))}},{key:"device",value:function(e){if(console.log("device working"),"null"===e)this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{device_cost:0}),deviceSelected:"null",cost:Object(k.a)(Object(k.a)({},this.state.cost),{},{devicecost:0})}),localStorage.setItem("deviceName","");else{var t=this.state.devices;console.log(t);for(var a=0;a<t.length;a++)t[a].name===e&&(localStorage.setItem("deviceName",t[a].device_name),this.setState({final_data:Object(k.a)(Object(k.a)({},this.state.final_data),{},{device_cost:t[a].price,t_device_title:t[a].device_title,telco_devices:t[a].name}),deviceSelected:t[a],cost:Object(k.a)(Object(k.a)({},this.state.cost),{},{devicecost:t[a].price})}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,l=t.sub_line,c=t.devices,r=t.plans,o=t.deviceSelected,s=t.credit_card;return console.log(this.state),"Pending for approval"===a.reg_status?n.a.createElement("div",{class:"bgimg"},n.a.createElement("div",{class:"middle"},n.a.createElement("h1",null,"Pending for Approval"),n.a.createElement("hr",null),n.a.createElement("p",null,"Try Again after some time"))):"Approved"===a.reg_status?n.a.createElement("div",{class:"bgimg"},n.a.createElement("div",{class:"middle"},n.a.createElement("h1",null,"Approved"),n.a.createElement("hr",null),n.a.createElement("p",null,this.state.telco_data.next_renew_date))):n.a.createElement("div",{className:"order-wrapper"},n.a.createElement("center",null,n.a.createElement("h3",{id:"portinc"},"Your Order")),n.a.createElement("div",{id:"detailscard",style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))}},n.a.createElement("form",null,n.a.createElement("div",{class:"card formcard",id:"detail1"},n.a.createElement("div",{class:"card formcard",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"Your Details"),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Prudential Id"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"prudential_id",onChange:this.input,defaultValue:this.state.final_data.prudential_id,disabled:!0}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Full Name"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"full_name",onChange:this.input,defaultValue:a.full_name,disabled:!0}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Contact Number"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",maxlength:"10",name:"cell_number",pattern:"[0-9]*",onInput:this.contact.bind(this),value:this.state.numberInput}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Telco Id"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"telco_id",onChange:this.input,defaultValue:localStorage.getItem("telco"),disabled:!0}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Telco Name"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"telco_name",onChange:this.input,defaultValue:this.state.telco_data.telco_name,disabled:!0}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Company Name"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"company_name",onChange:this.input,defaultValue:a.company_name?a.company_name:"Prudential Life Insurance Agency Association"}),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Mailing Address"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",name:"city",onChange:this.input,defaultValue:this.state.final_data.mailing_address}))),1===this.state.telco_data.creditcard_check?n.a.createElement("div",{class:"card formcard",id:"detail1"},n.a.createElement("div",{class:"card formcard",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"Credit Card Details"),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Cardholder Name"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"cardHolder",onChange:function(t){e.setState({credit_card:Object(k.a)(Object(k.a)({},e.state.credit_card),{},{cardHolder:t.target.value})})},defaultValue:s.cardHolder})),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Credit Card No (Format : 9999-9999-9999-9999)"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"cardNo",maxLength:19,onInput:this.NumberCard.bind(this),value:s.cardNo})),n.a.createElement("div",{class:"form-group"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"radio checkbox-inline mr-4"},n.a.createElement("label",null,n.a.createElement("input",{id:"master",type:"radio",name:"cardType",value:"Master Card",onClick:function(t){return e.setState({credit_card:Object(k.a)(Object(k.a)({},e.state.credit_card),{},{cardType:t.target.value})})}})," ","Master Card")),n.a.createElement("div",{className:"radio checkbox-inline"},n.a.createElement("label",null,n.a.createElement("input",{type:"radio",id:"visa",name:"cardType",value:"Visa Card",onClick:function(t){return e.setState({credit_card:Object(k.a)(Object(k.a)({},e.state.credit_card),{},{cardType:t.target.value})})}})," ","Visa Card")))),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Expiry Date (Format : 99-99)"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"expDate",maxLength:5,onInput:this.NumberExpireDate.bind(this),value:s.expDate})),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"CVC/CVV2 (format : 999)"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",maxLength:"3",name:"cvv",onInput:this.NumberCvv.bind(this),value:s.cvv})),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Card Issuing Country"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"cardCountry",onChange:function(t){return e.setState({credit_card:Object(k.a)(Object(k.a)({},e.state.credit_card),{},{cardCountry:t.target.value})})},value:s.cardCountry,required:!0})),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Card Issuing Bank"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"cardBank",onChange:function(t){return e.setState({credit_card:Object(k.a)(Object(k.a)({},e.state.credit_card),{},{cardBank:t.target.value})})},defaultValue:s.cardBank})),n.a.createElement("div",{class:"form-group"},n.a.createElement("div",{class:"form-check"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.props.answer,id:"defaultCheck1",style:{background:"#f1f4ff"}}),this.state.telco_data.creditcard_desc)))):n.a.createElement(n.a.Fragment,null),n.a.createElement("div",{class:"card formcard",id:"detail1"},n.a.createElement("div",{class:"card formcard",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"NRIC"),n.a.createElement("div",{class:"form-group"},n.a.createElement("label",{for:"exampleFormControlInput1"},"Full Name as in NRIC"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"text",class:"form-control",id:"exampleFormControlInput1",name:"full_name_nric",onChange:this.input,defaultValue:a.full_name_nric})),n.a.createElement("div",{className:"imagePreview row"},n.a.createElement("div",{className:"imagePreviewContainer"},n.a.createElement("label",null,"Take a Photo of Original IC with Color ",n.a.createElement("br",null)," (Front)"),n.a.createElement("br",null),n.a.createElement(T.a,{multiple:!0,onDone:this.getFilesFRONT.bind(this)}),n.a.createElement("br",null),this.state.files_nric_front.length>0?n.a.createElement("img",{src:this.state.files_nric_front[0].base64}):a.nric_front?n.a.createElement("img",{src:"http://167.99.77.197/".concat(a.nric_front)}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"imagePreviewContainer"},n.a.createElement("label",null,"Take a Photo of Original IC with Color",n.a.createElement("br",null)," (Back)"),n.a.createElement("br",null)," ",n.a.createElement(T.a,{multiple:!0,onDone:this.getFilesBACK.bind(this)}),n.a.createElement("br",null),this.state.files_nric_back.length>0?n.a.createElement("img",{src:this.state.files_nric_back[0].base64}):a.nric_back?n.a.createElement("img",{src:"http://167.99.77.197/".concat(a.nric_back)}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("br",null),n.a.createElement("div",{className:"imagePreviewContainer"},n.a.createElement("label",null,"Take Photo of Staff ID"),n.a.createElement("br",null),n.a.createElement(T.a,{multiple:!0,onDone:this.getFilesPhotos.bind(this)}),n.a.createElement("br",null),this.state.files_photo.length>0?n.a.createElement("img",{src:this.state.files_photo[0].base64}):a.photo?n.a.createElement("img",{src:"http://167.99.77.197/".concat(a.photo)}):n.a.createElement(n.a.Fragment,null))),n.a.createElement("br",null))),n.a.createElement("div",{class:"card formcard",id:"detail1"},n.a.createElement("div",{class:"card formcard",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"Plan And Devices"),n.a.createElement("h6",{id:"principalplan"},"Principal Plan Type"),n.a.createElement("select",{required:!0,style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},class:"custom-select custom-select-lg mb-3",id:"dropdownd",name:"package_title",onChange:function(t){console.log(t.target.value),e.plan(t.target.value)}},0==r.length?n.a.createElement(n.a.Fragment,null):r.map((function(e){return e.package_title==a.package_title?n.a.createElement("option",{value:e.name,selected:!0},e.package_title):n.a.createElement("option",{value:e.name},e.package_title)}))),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Price (RM)"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"number",class:"form-control",value:this.state.final_data.package_price,disabled:!0}),n.a.createElement("br",null),n.a.createElement("h6",{id:"devicet"},"Devices"),n.a.createElement("select",{required:!0,style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},class:"custom-select custom-select-lg mb-3",id:"dropdownc",name:"telco_devices",onChange:function(t){console.log(t.target.value),e.device(t.target.value)}},n.a.createElement("option",{value:"null",selected:!0},"please select the value"),0==c.length?n.a.createElement(n.a.Fragment,null):c.map((function(e){return e.name===a.telco_devices?n.a.createElement("option",{value:e.name,selected:!0},e.device_name):n.a.createElement("option",{value:e.name},e.device_name)}))),n.a.createElement("div",{className:"row",style:{width:"100%"}},n.a.createElement("div",{className:"formdevice"},n.a.createElement("div",{className:"col"},"null"!=o.device_photo?n.a.createElement("img",{src:o.device_photo,className:"img-fluid"}):n.a.createElement(n.a.Fragment,null)),n.a.createElement("div",{className:"col"},n.a.createElement("span",{dangerouslySetInnerHTML:{__html:o.device_content}})))),n.a.createElement("label",{for:"exampleFormControlTextarea1"},"Price (RM)"),n.a.createElement("input",{style:{border:"1px solid  ".concat(localStorage.getItem("theme_color"))},type:"number",class:"form-control",value:this.state.final_data.device_cost,disabled:!0}),n.a.createElement("br",null))),0==localStorage.getItem("plan_pkg_subline")?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{class:"card formcard",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"Subline"),n.a.createElement("p",{style:{color:"red"}},"*Only ",this.state.telco_data.max_subline," Subline is Allowed"," "),n.a.createElement("table",{class:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Plan"),n.a.createElement("th",{scope:"col"},"Device"),n.a.createElement("th",{scope:"col"},"Price (RM) "),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,0==l.length?n.a.createElement(n.a.Fragment,null):l.map((function(t,a){return n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},a+1),n.a.createElement("td",null,t.telco_package_plan),n.a.createElement("td",null,t.device),n.a.createElement("td",null,t.price),n.a.createElement("td",null,n.a.createElement(N.a,{trigger:n.a.createElement("i",{class:"fa fa-sort-desc","aria-hidden":"true"}),modal:!0,nested:!0},(function(l){return n.a.createElement("center",null,n.a.createElement("button",{class:"btn",id:"popclose",onClick:function(){l()}},"X"),n.a.createElement(x,{data:t,plan:r,device:c,get:function(t){console.log(t),1==t.data&&e.setState({sub_line:e.state.sub_line.map((function(e,l){return l==a?t.final_data:e}))},(function(){console.log(e.state);var t=e.state.sub_line;e.setState({final_data:Object(k.a)(Object(k.a)({},e.state.final_data),{},{sub_line:t})}),console.log(e.state),l()}))}}))}))))})))),this.state.sub_line.length<this.state.telco_data.max_subline?n.a.createElement(N.a,{trigger:n.a.createElement("button",{type:"button",class:"btn btn-my-color btn-lg",id:"orderbutton",style:{backgroundColor:"".concat(localStorage.getItem("theme_color")),width:"200px",margin:"auto"}},"Add Subline"),modal:!0,nested:!0},(function(t){return n.a.createElement("center",null,n.a.createElement("button",{class:"btn",id:"popclose",onClick:function(){t()}},"X"),n.a.createElement(I,{plan:r,device:c,get:function(a){if(console.log(a),1==a.data)if(e.state.sub_line.length<e.state.telco_data.max_subline){e.state.sub_line.push(a.final_data),console.log(e.state);var l=e.state.sub_line;e.setState({final_data:Object(k.a)(Object(k.a)({},e.state.final_data),{},{sub_line:l})}),console.log(e.state),t()}else D()("Only ".concat(e.state.telco_data.max_subline," subline Allowed ")),t()}}))})):n.a.createElement(n.a.Fragment,null),n.a.createElement("br",null)),n.a.createElement("div",{class:"card signature-wrapper-main",id:"detail11"},n.a.createElement("label",{for:"exampleFormControlInput1",class:"font-weight-bold"},"SIGNATURE"),n.a.createElement(L,{data:a.t_signature,get:function(t){console.log(t),e.setState({final_data:Object(k.a)(Object(k.a)({},e.state.final_data),{},{t_signature:t})})}})))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("center",null,n.a.createElement("div",null,n.a.createElement(i.b,{to:{pathname:"/preview",Data:{max_subline:this.state.telco_data.max_subline,credit_card:this.state.credit_card,files_nric_back:this.state.files_nric_back.length>0?this.state.files_nric_back:a.nric_back?"http://167.99.77.197/".concat(a.nric_back):"",files_nric_front:this.state.files_nric_front.length>0?this.state.files_nric_front:a.nric_front?"http://167.99.77.197/".concat(a.nric_front):"",files_photo:this.state.files_photo.length>0?this.state.files_photo:a.photo?"http://167.99.77.197/".concat(a.photo):"",memberData:this.state.memberData,signature:this.state.final_data.t_signature?this.state.final_data.t_signature:a.t_signature?a.t_signature:" ",full_name_nric:this.state.final_data.full_name_nric?this.state.final_data.full_name_nric:a.full_name_nric?a.full_name_nric:" ",planprice:this.state.final_data.package_price,deviceprice:this.state.final_data.device_cost,sub_line:this.state.sub_line,oldState:Object(k.a)({},this.state)}}},n.a.createElement("button",{type:"submit",class:"btn btn-success btn-lg"},"Preview")))),n.a.createElement("br",null),n.a.createElement("br",null))}}]),a}(l.Component);function U(){return Object(l.useEffect)((function(){window.scrollTo(0,0)})),n.a.createElement(M,null)}var V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"bgimg"},n.a.createElement("div",{class:"middle"},n.a.createElement("h1",null,"Your Application has been submitted and send for review"),n.a.createElement("hr",null),n.a.createElement("a",{className:"btn badge-primary",href:"http://167.99.77.197/".concat(localStorage.getItem("pdf")),download:!0,onClick:function(){return window.location.replace("http://167.99.77.197/#/smartPartner")}}," Download your application")))}}]),a}(l.Component),H=(a(43),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"form-group row input-row"},n.a.createElement("label",{for:"inputEmail3",class:"col-sm-5  col-form-label custom-sm-5"},this.props.header),n.a.createElement("div",{class:"col-sm-7  pdfInputWrapper custom-sm-7"},n.a.createElement("span",{className:"pdfInput"},this.props.answer)))}}]),a}(l.Component)),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"form-check"},void 0===this.props.checked?n.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.props.answer,id:"defaultCheck1",style:{background:"#f1f4ff"}}):n.a.createElement("input",{class:"form-check-input",type:"checkbox",value:this.props.answer,id:"defaultCheck1",style:{background:"#f1f4ff"},checked:!0}),n.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},this.props.header))}}]),a}(l.Component),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"pdf-section-header-container"},n.a.createElement("span",{className:"pdf-section-header"},this.props.header),"true"===this.props.require?n.a.createElement("span",{className:"pdfRequire"},"*Required"):null)}}]),a}(l.Component),Y=a(50),W=(a(101),a(102),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return l.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.createElement("h3",{className:"pdfHeading"},"ENTERPRISE INDIVIDUAL",l.createElement("br",null),"MOBILE REGISTRATION FORM"),l.createElement("img",{src:"http://167.99.77.197".concat(localStorage.getItem("telco_logo")),alt:"Bootstrap Image Preview",className:"pdf-telco-icon"}))}}]),a}(l.Component)),G=(a(103),a(104),a(105),a(106),a(107),a(108),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).state={data:l.props.memberData,telco_details:{},sub_line_total_price:0,seqDetail:{},loading:!0},console.log(l.props.memberData),console.log(l.state.data),h.a.get('http://167.99.77.197/api/resource/PRULIA%20Telco?filters=[["name","=","'.concat(localStorage.getItem("telco"),'"]]&fields=["dec_detail","telco_logo","creditcard_check","creditcard_desc","term_condition"]'),{withCredentials:!0}).then((function(e){console.log(e),l.setState({telco_details:e.data.data[0]}),console.log(l.state.telco_details),localStorage.setItem("telco_logo",e.data.data[0].telco_logo)})).then((function(){h.a.get("http://167.99.77.197/api/resource/PRULIA%20Secure%20Config/8bb0a9e1d1",{withCredentials:!0}).then((function(e){console.log(e),l.setState({seqDetail:e.data.data},(function(){l.setState({loading:!1})}))}))})),l}return Object(d.a)(a,[{key:"seqCodeGenerator",value:function(){var e=this.state.seqDetail;console.log(e);var t=this.props.credit_card.cardHolder.replace(/\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).replace(/\s/g,""),a=this.props.credit_card.cardType.replace(/\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).replace(/\s/g,""),l=this.props.credit_card.cardCountry.replace(/\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).replace(/\s/g,""),n=this.props.credit_card.cardBank,c=this.props.credit_card.cardNo.replaceAll("-","")+this.props.credit_card.expDate.replaceAll("-","")+this.props.credit_card.cvv.replaceAll("-","");console.log(c);var r=[e.sec_code1,e.sec_code2,e.sec_code3,e.sec_code4,e.sec_code5,e.sec_code6,e.sec_code7];console.log(r);for(var i=parseInt(e.alternate,10),o=0,s="",d=0;d<c.length;d++)0===d?s+=c[d]:d%i===0&&(s+=r[o],o+=1),void 0===c[d]?s+="":d>0&&(s+=c[d]);return console.log(s),t+a+l+n+s}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state.data;return l.createElement("div",{class:"container-fluid pdf-main-wrapper",id:"element-to-print"},l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(W,null),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-10"},l.createElement("p",null,"Please write in capital letters and ( \u2714 ) where applicable."))),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-6 custom-md-6"},l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"TYPE OF SEGMENT"}),l.createElement("div",{className:"row Acheck"},l.createElement(B,{header:"Corporate"}),l.createElement(B,{header:"SME"})))),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"FOR EXISTING CUSTOMER"}),l.createElement(H,{header:"Customer Name:",answer:t.full_name}),l.createElement(H,{header:"Account No.:"}),l.createElement(H,{header:"Existing Mobile No",answer:t.cell_number})))),l.createElement("div",{class:"col-md-6 custom-md-6"},l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"FOR NEW CUSTOMER"}),l.createElement("br",null),l.createElement("h6",null,"Document Required"),l.createElement(B,{header:"Photocopy of NRIC (both sides) or Passport (non-Malaysian)"}),l.createElement(B,{header:"Staff ID Tag or Salary Slip"}))))))))))),l.createElement("div",{class:0===this.state.telco_details.creditcard_check?" row html2pdf__page-break":"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"INDIVIDUAL DETAILS",require:"true"}),l.createElement("div",{className:"row"},l.createElement("div",{className:"col"},l.createElement("div",{class:"form-group row"},l.createElement("label",{for:"inputEmail3",class:"col-sm-5  col-form-label custom-sm-5"},"Nationality:"),l.createElement("div",{class:"col-sm-7 custom-sm-7"},l.createElement("div",{className:"row"},l.createElement(B,{header:"Malaysian"}),"\xa0",l.createElement(B,{header:"Non-Malaysian"})))),l.createElement(H,{header:"Full Name as in NRIC/Passport*:",answer:this.props.full_name_nric}),l.createElement(H,{header:"NRIC No.*:",answer:t.nric_number}),l.createElement(H,{header:"Old IC/Passport No.*:",answer:""})),l.createElement("div",{className:"col"},l.createElement(H,{header:"Date of Birth (DD/MM/YYYY) :",answer:t.date_of_birth?t.date_of_birth:""}),l.createElement(H,{header:"Contact N(Mobile)* (can be reached no.) :",answer:t.cell_number}),l.createElement(H,{header:"Contact N(Office/Home)* (can be reached no.) :",answer:t.office_number}),l.createElement(H,{header:"E-mail at Work*",answer:t.email}))))),1===this.state.telco_details.creditcard_check?l.createElement("div",{class:0===this.state.telco_details.creditcard_check?" row html2pdf__page-break":"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"PAYMENT - CREDIT CARD",require:"true"}),l.createElement("div",{className:"row"},l.createElement("div",{class:"form-check"},l.createElement("input",{type:"checkbox",checked:!0,class:"form-check-input",id:"defaultCheck1",style:{background:"#f1f4ff"}}),l.createElement("label",{class:"form-check-label",for:"defaultCheck1"},this.state.telco_details.creditcard_desc))))):l.createElement(l.Fragment,null),l.createElement(W,null),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"BILLING & DELIVERY DETAILS",require:"true"}),l.createElement("div",{class:"form-group row"},l.createElement("label",{for:"inputEmail3",class:"col-sm-2 col-form-label custom-sm-2 "},"Billing Address* :"),l.createElement("div",{class:"col-sm-10 custom-sm-10 "},l.createElement("div",{className:"row"},l.createElement("div",{class:"col-sm-11"},l.createElement("div",{class:"form-group row"},l.createElement("span",{className:"addressLine"}," \xa0"),l.createElement("span",{className:"addressLine"}," \xa0"),l.createElement("span",{className:"addressLine last"}," \xa0"),l.createElement("div",{style:{minWidth:"55%"}},l.createElement("label",{for:"inputEmail3",class:"col-sm-5   col-form-label pincodeLable custom-sm-5"},"Postcode*"),l.createElement("div",{class:"pincode"},"\xa0"))),l.createElement("div",{className:"pdfAddress"},l.createElement(H,{header:"City* :",answer:""}),l.createElement(H,{header:"State* :",answer:""})))))),l.createElement("div",{class:"form-group row"},l.createElement("label",{for:"inputEmail3",class:"col-sm-2   col-form-label custom-sm-2"},"Office Delivery Address* :"),l.createElement("div",{class:"col-sm-10 custom-sm-10"},l.createElement("div",{className:"row"},l.createElement("div",{class:"col-sm-11"},l.createElement("div",{class:"form-group row"},l.createElement("span",{className:"addressLine"}," \xa0"),l.createElement("span",{className:"addressLine"}," \xa0"),l.createElement("span",{className:"addressLine last"}," \xa0"),l.createElement("div",{style:{minWidth:"55%"}},l.createElement("label",{for:"inputEmail3",class:"col-sm-5 custom-sm-5  col-form-label pincodeLable custom-sm-5"},"Postcode*"),l.createElement("div",{class:"pincode"},"\xa0"))),l.createElement("div",{className:"pdfAddress"},l.createElement(H,{header:"City* :",answer:""}),l.createElement(H,{header:"State* :",answer:""})))))),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/Delcaration.b76fa05d.png",class:"img-fluid",style:{width:"100%",height:"89px",border:"0px"}}))),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"TRANSFER OF OWNERSHIP"}),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/transfer.2acf2370.png",class:"img-fluid",style:{width:"100%",height:"115px",border:"0px"}}))),l.createElement("div",{class:"row html2pdf__page-break "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"DEVICE REDEMPTION ON-THE-SPOT DETAILS"}),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/Aprove.255ed245.png",class:"img-fluid",style:{width:"100%",height:"138px",border:"0px"}}))),l.createElement(W,null),l.createElement("div",{class:"row "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"SERVICE PACKAGE"}),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/subline.5a66a38e.png",class:"img-fluid",style:{width:"100%",height:"495px",border:"0px"}}))),l.createElement("div",{class:"row html2pdf__page-break"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"DECLARATION"}),l.createElement("br",null),l.createElement("label",null,this.state.telco_details.dec_detail," "),l.createElement("div",{style:{position:"relative"}},l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/Prulia_Cert_Trans.3091a477.png",alt:"",style:{height:"44px",width:"44px",position:"absolute",left:"270px",top:"-8px"}})),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-6 custom-md-6"},l.createElement("center",null,l.createElement("img",{src:this.props.signature}),l.createElement("br",null),l.createElement("label",null,"Applicant\u2019s Signature"))),l.createElement("div",{class:"col-md-6 custom-md-6"},l.createElement("br",null),l.createElement("br",null),l.createElement(H,{header:"Name:",answer:t.full_name}),l.createElement(H,{header:"NRIC/Passport No.:",answer:t.nric_number}),l.createElement(H,{header:"Date (DD/MM/YY):",answer:Date.now()}))),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/individual.9ceed13c.png",class:"img-fluid",style:{width:"100%",height:"111px",border:"0px"}}))),""===this.state.telco_details.term_condition?l.createElement(l.Fragment,null):l.createElement("div",null,"   ",l.createElement(W,null)," ",l.createElement("div",{class:"row html2pdf__page-break"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"TERMS AND CONDITION"}),l.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.telco_details.term_condition}})))),l.createElement(W,null),l.createElement("div",{class:"row "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"FOR OFFICE USE ONLY"}),l.createElement("img",{src:"http://167.99.77.197/digitest2/static/media/Foroff.2f389ab5.png",class:"img-fluid",style:{width:"100%",height:"114px",border:"0px"}}))),l.createElement("div",{class:"row "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"Plan And Devices"}),l.createElement("b",null,"Plan"),l.createElement("div",null,l.createElement(H,{header:"Package Plan",answer:localStorage.getItem("plan_pkg")?localStorage.getItem("plan_pkg"):"No Plan selected"}),l.createElement(H,{header:"Package Plan Price",answer:this.props.planprice})),l.createElement("b",null,"Device"),l.createElement("div",null,l.createElement(H,{header:"Device Selected",answer:localStorage.getItem("deviceName")?localStorage.getItem("deviceName"):"No device selcted"}),l.createElement(H,{header:"Device Price",answer:this.props.deviceprice})))),this.props.max_subline>0&&this.props.sub_line.length>0&&1==localStorage.getItem("plan_pkg_subline")?l.createElement("div",{class:"row "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"ADDITIONAL DETAILS"}),l.createElement(Y.a,{sub_line:this.props.sub_line,get:function(t){e.setState({sub_line_total_price:t})}}))):l.createElement(l.Fragment,null),l.createElement("div",{class:"row html2pdf__page-break"},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"Total Pricing"}),l.createElement(H,{header:"Total Price ",answer:0===this.state.sub_line_total_price?Number(this.props.planprice)+Number(this.props.deviceprice):Number(this.props.planprice)+Number(this.props.deviceprice)+Number(this.state.sub_line_total_price)}))),l.createElement(W,null),l.createElement("div",{class:"row  "},l.createElement("div",{class:"col-md-12"},l.createElement(q,{header:"Document Required"}),Array.isArray(this.props.files_nric_back)&&this.props.files_nric_back.length>0?l.createElement("div",null,l.createElement("p",null,"NRIC BACK "),l.createElement("img",{src:this.props.files_nric_back[0].base64,style:{width:"300px",height:"250px",border:"0px"}})):l.createElement("div",null,l.createElement("p",null,"NRIC BACK "),""==this.props.files_nric_back?l.createElement("p",null,"N/A"):l.createElement("img",{style:{width:"300px",height:"250px",border:"0px"},src:this.props.files_nric_back})),l.createElement("br",null),Array.isArray(this.props.files_nric_front)&&this.props.files_nric_front.length>0?l.createElement("div",null,l.createElement("p",null," NRIC FRONT"),l.createElement("img",{src:this.props.files_nric_front[0].base64,style:{width:"300px",height:"250px",border:"0px"}})):l.createElement("div",null,l.createElement("p",null," NRIC FRONT"),""==this.props.files_nric_front?l.createElement("p",null,"N/A"):l.createElement("img",{style:{width:"300px",height:"250px",border:"0px"},src:this.props.files_nric_front})),l.createElement("br",null),Array.isArray(this.props.files_photo)&&this.props.files_photo.length>0?l.createElement("div",null,l.createElement("p",null,"PHOTO"),l.createElement("img",{src:this.props.files_photo[0].base64,style:{width:"300px",height:"250px",border:"0px"}})):l.createElement("div",null,l.createElement("p",null,"PHOTO"),""==this.props.files_photo?l.createElement("p",null,"N/A"):l.createElement("img",{style:{width:"300px",height:"250px",border:"0px"},src:this.props.files_photo})))),l.createElement("div",{class:"row"},l.createElement("div",{class:"col-md-12"},!1===this.state.loading?this.seqCodeGenerator():l.createElement(l.Fragment,null))))}}]),a}(l.Component)),$=(a(126),a(109),a(52)),K=a.n($),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).html2pdfcustom=function(e){console.log("here");K()().from(e).set({margin:[0,0,0,0],filename:"some.pdf",image:{type:"jpeg",quality:5},html2canvas:{scale:2},jsPDF:{orientation:"portrait",unit:"pt",format:"a4"}}).toPdf().output("datauristring").then((function(e,t){localStorage.setItem("pdf",e)})).then((function(){l.setState({oldState:Object(k.a)(Object(k.a)({},l.state.oldState),{},{files_application_form:localStorage.getItem("pdf")})},(function(){console.log(l.state.oldState),localStorage.removeItem("pdf"),l.PostData()}))}))},l.state={redirect:!1,pdf:"",oldState:void 0!==l.props.location.Data.oldState?l.props.location.Data.oldState:{}},l.setState({oldState:Object(k.a)(Object(k.a)({},l.state.oldState),{},{data:Object(k.a)({},l.state.oldState.data)})},(function(){console.log("this is happening")})),l.PostData=l.PostData.bind(Object(S.a)(l)),l.submit=l.submit.bind(Object(S.a)(l)),l.uploadFiles=l.uploadFiles.bind(Object(S.a)(l)),l}return Object(d.a)(a,[{key:"componentWillMount",value:function(){window.scrollTo(0,0)}}]),Object(d.a)(a,[{key:"PostData",value:function(){var e=this;h.a.post("/api/resource/PRULIA%20Telco%20Connect/",Object(k.a)({prudential_id:this.state.oldState.memberData.prudential_id,telco_id:localStorage.getItem("telco")},this.state.oldState.data),{withCredentials:!0}).then((function(e){console.log(e),localStorage.setItem("tcon_id",e.data.data.name),console.log(e.data)})).then((function(){e.uploadFiles()}))}},{key:"uploadFiles",value:function(){var e=this,t=this.state.oldState,a=t.files_photo,l=t.files_nric_back,n=t.files_nric_front,c=t.files_application_form;if(0!=a.length&&a.length>0){var r=new FormData;r.append("cmd","uploadfile"),r.append("doctype","PRULIA Telco Connect"),r.append("filename",Date.now()+a[0].name),r.append("docname",localStorage.getItem("tcon_id")),r.append("from_form",1),r.append("filedata",a[0].base64),h.a.post("/api/method/uploadfile",r,{withCredentials:!0}).then((function(t){console.log(t),e.setState({oldState:Object(k.a)(Object(k.a)({},e.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},e.state.oldState.final_data),{},{photo:t.data.message.file_url})})})})).catch((function(e){return console.log(e)}))}if(0!=l.length&&l.length>0){var i=new FormData;i.append("cmd","uploadfile"),i.append("doctype","PRULIA Telco Connect"),i.append("filename",Date.now()+l[0].name),i.append("docname",localStorage.getItem("tcon_id")),i.append("from_form",1),i.append("filedata",l[0].base64),h.a.post("/api/method/uploadfile",i,{withCredentials:!0}).then((function(t){console.log(t),e.setState({oldState:Object(k.a)(Object(k.a)({},e.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},e.state.oldState.final_data),{},{nric_back:t.data.message.file_url})})})})).catch((function(e){return console.log(e)}))}if(0!=n.length&&n.length>0){var o=new FormData;o.append("cmd","uploadfile"),o.append("doctype","PRULIA Telco Connect"),o.append("filename",Date.now()+n[0].name),o.append("docname",localStorage.getItem("tcon_id")),o.append("from_form",1),o.append("filedata",n[0].base64),h.a.post("/api/method/uploadfile",o,{withCredentials:!0}).then((function(t){console.log(t),e.setState({oldState:Object(k.a)(Object(k.a)({},e.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},e.state.oldState.final_data),{},{nric_front:t.data.message.file_url})})})})).catch((function(e){return console.log(e)}))}if(0!=c.length&&c.length>0){var s=new FormData;s.append("cmd","uploadfile"),s.append("doctype","PRULIA Telco Connect"),s.append("filename",localStorage.getItem("tcon_id")+Date.now()+".pdf"),s.append("docname",localStorage.getItem("tcon_id")),s.append("from_form",1),s.append("filedata",c),h.a.post("/api/method/uploadfile",s,{withCredentials:!0}).then((function(t){console.log(t),e.setState({oldState:Object(k.a)(Object(k.a)({},e.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},e.state.oldState.final_data),{},{application_form:t.data.message.file_url})})},(function(){e.pricing()}))})).catch((function(e){return console.log(e)}))}}},{key:"submit",value:function(){var e=this;h.a.put("/api/resource/PRULIA%20Telco%20Connect/".concat(localStorage.getItem("tcon_id")),Object(k.a)({},this.state.oldState.final_data),{withCredentials:!0}).then((function(e){console.log(e),localStorage.setItem("pdf",e.data.data.application_form)})).then((function(){e.setState({redirect:!0})})).catch((function(e){console.log(e)}))}},{key:"pricing",value:function(){var e=this,t=this.state.oldState.sub_line;this.setState({oldState:Object(k.a)(Object(k.a)({},this.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},this.state.oldState.final_data),{},{sub_line:t})})},(function(){console.log(e.state);var t=e.state.oldState.final_data,a=0,l=t.device_cost?Number(t.device_cost):0,n=t.package_price?Number(t.package_price):0;a=a+l+n,console.log(a),t.sub_line?t.sub_line.map((function(e){console.log(e.price),a+=Number(e.price)})):a+=0,console.log(a),e.setState({oldState:Object(k.a)(Object(k.a)({},e.state.oldState),{},{final_data:Object(k.a)(Object(k.a)({},e.state.oldState.final_data),{},{total_price:a})})},(function(){e.submit()}))}))}},{key:"render",value:function(){var e=this;return!0===this.state.redirect?n.a.createElement(o.a,{to:"/download"}):(console.log(this.state),n.a.createElement("div",null,n.a.createElement("center",null,"  ",n.a.createElement("button",{type:"button",className:"btn btn-primary mt-3",onClick:function(){var t=document.getElementById("element-to-print");e.html2pdfcustom(t)}},"SAVE AND EXPORT")," "),n.a.createElement("div",{className:"pdfformwrapper"},n.a.createElement(G,{credit_card:this.props.location.Data.credit_card,planprice:this.props.location.Data.planprice,deviceprice:this.props.location.Data.deviceprice,max_subline:this.props.location.Data.max_subline,files_nric_back:this.props.location.Data.files_nric_back,files_nric_front:this.props.location.Data.files_nric_front,files_photo:this.props.location.Data.files_photo,signature:this.props.location.Data.signature,sub_line:this.props.location.Data.sub_line,full_name_nric:this.props.location.Data.full_name_nric,memberData:this.props.location.Data.memberData}))))}}]),a}(l.Component);function J(){return n.a.createElement(i.a,null,n.a.createElement(j,null),n.a.createElement(o.d,null,n.a.createElement(o.b,{exact:!0,path:"/telco/order",render:function(){return n.a.createElement(U,null)}}),n.a.createElement(o.b,{exact:!0,path:"/download",render:function(){return n.a.createElement(V,null)}}),n.a.createElement(o.b,{exact:!0,path:"/preview",component:X}),n.a.createElement(o.b,{path:"/:telco",component:function(){return n.a.createElement(w,null)}}),n.a.createElement(o.b,{exact:!0,path:"/",component:function(){return n.a.createElement("div",null,"please select a telco")}})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){},43:function(e,t,a){},50:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var l=a(4),n=a(3),c=a(6),r=a(5),i=a(51),o=(a(100),a(0)),s=a.n(o),d=function(t){Object(c.a)(o,t);var a=Object(r.a)(o);function o(t){var n;return Object(l.a)(this,o),n=a.call(this,t),e.add=0,n.pricing(),n.props.get(e.add),n}return Object(n.a)(o,[{key:"pricing",value:function(){this.props.sub_line.map((function(t){console.log(t.price),e.add=e.add+Number(t.price)}))}},{key:"render",value:function(){var t=this.props.sub_line;return console.log(t),console.log(e.add),s.a.createElement("div",{class:"row ml-3"},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-3 custom-md-3"},s.a.createElement("div",{class:"row border-bottom "},s.a.createElement("div",{class:"col-md-12 font-weight-bold"},"Information")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Telco Package Plan")),s.a.createElement("div",{class:"row subline_border",style:{minHeight:"50px"}},s.a.createElement("div",{class:"col-md-12"},"Device")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Sub Line Name")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Sub Line NRIC")),s.a.createElement("div",{class:"row mb-0"},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row mb-0 "},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row font-weight-bold subline_border"},s.a.createElement("div",{class:"col-md-12 "},"New Line")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Last 4 Numbers Opt 1")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Last 4 Numbers Opt 2")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Last 4 Numbers Opt 3")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Last 4 Numbers Opt 4")))))),s.a.createElement("div",{class:"row "},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row  font-weight-bold subline_border"},s.a.createElement("div",{class:"col-md-12 "},"Port In")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Port In For")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Current Telco")),s.a.createElement("div",{class:"row subline_border"},s.a.createElement("div",{class:"col-md-12"},"Mobile Number")))),s.a.createElement("div",{class:"row "},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row font-weight-bold subline_border"},s.a.createElement("div",{class:"col-md-12"},"Change Plan")),s.a.createElement("div",{class:"row  subline_border"},s.a.createElement("div",{class:"col-md-12"},"Change of Plan For")),s.a.createElement("div",{class:"row  subline_border"},s.a.createElement("div",{class:"col-md-12"},"Current Type of Plan")),s.a.createElement("div",{class:"row  subline_border"},s.a.createElement("div",{class:"col-md-12"},"Mobile Number")))),s.a.createElement("div",{class:"row border-bottom "},s.a.createElement("div",{class:"col-md-12 "},"Price"))),s.a.createElement("div",{class:"col-md-9  d-flex p-0 custom-md-9"},t.map((function(e,t){return s.a.createElement(i.a,{sub_line:e,Index:t,key:t})}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{class:"row "},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("b",null,"Total Price of Subline"),": ",s.a.createElement("p",{className:"ml-5 d-inline-block"}," ",e.add))))}}]),o}(o.Component)}).call(this,a(17))},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a(25),n=a(0),c=a.n(n),r=a(2),i=a.n(r),o=function(e){return c.a.createElement("span",{className:"pdfInput"},e||c.a.createElement("span",null,"N/A"))};function s(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=(a[0],a[1]),s=Object(n.useState)(""),d=Object(l.a)(s,2),m=d[0],u=d[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),b=h[0],_=h[1];return e.sub_line.telco_name&&i.a.get("/api/resource/PRULIA%20Telco/".concat(e.sub_line.telco_name,'?fields=["telco_name","name"]'),{withCredentials:!0}).then((function(e){r(e.data.data.telco_name)})),e.sub_line.device&&i.a.get("/api/resource/PRULIA%20Telco%20Devices/".concat(e.sub_line.device,'?fields=["device_name"]'),{withCredentials:!0}).then((function(e){u(e.data.data.device_name)})),e.sub_line.telco_package_plan&&i.a.get("/api/resource/PRULIA%20Telco%20Package%20Plan/".concat(e.sub_line.telco_package_plan,'?fields=["package_title"]'),{withCredentials:!0}).then((function(e){_(e.data.data.package_title)})),console.log(e),c.a.createElement("div",{class:"col-md-3 add-column custom-md-3"},c.a.createElement("div",{class:"row border-bottom"},c.a.createElement("div",{class:"col-md-12 font-weight-bold"},"Line ",e.Index+1)),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(b))),c.a.createElement("div",{class:"row subline_border",style:{minHeight:"50px"}},c.a.createElement("div",{class:"col-md-12"},o(m))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.sub_line_name))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.sub_line_nric))),c.a.createElement("div",{class:"row newline-column mb-0"},c.a.createElement("div",{class:"col-md-12"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-12",style:{height:"17px",minHeight:"17px"}})),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.last_4_1))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.last_4_2))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.last_4_3))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.last_4_4))))),c.a.createElement("div",{class:"row .row-column-3"},c.a.createElement("div",{class:"col-md-12"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-12",style:{height:"17px",minHeight:"17px"}})),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.port_in_for))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.current_telco))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.port_in_mobile_no))))),c.a.createElement("div",{class:"row .row-column-3"},c.a.createElement("div",{class:"col-md-12"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-12",style:{height:"17px",minHeight:"17px"}})),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.change_plan_for))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.current_type_plan))),c.a.createElement("div",{class:"row subline_border"},c.a.createElement("div",{class:"col-md-12"},o(e.sub_line.change_mobile))))),c.a.createElement("div",{class:"row border-bottom "},c.a.createElement("div",{class:"col-md-12 "},o(e.sub_line.price))))}},53:function(e,t,a){e.exports=a(125)},58:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.73d6d82a.chunk.js.map